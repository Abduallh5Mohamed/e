<div class="verify-container">
  <div class="verify-card">
    <!-- Header -->
    <div class="verify-header">
      <div class="email-icon">
        <i class="fas fa-envelope-open-text"></i>
      </div>
      <h1 class="verify-title">Verify Your Email</h1>
      <p class="verify-subtitle">
        We've sent a verification link to<br>
        <strong>{{ maskedEmail }}</strong>
      </p>
    </div>

    <!-- Status Messages -->
    <div class="status-messages">
      <!-- Checking Status -->
      <div class="status-message checking" *ngIf="checkingVerification">
        <div class="status-icon">
          <i class="fas fa-sync fa-spin"></i>
        </div>
        <p>Checking verification status...</p>
      </div>

      <!-- Success Message -->
      <div class="status-message success success-message">
        <div class="status-icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <p>Verification email sent successfully!</p>
      </div>

      <!-- Error Message -->
      <div class="status-message error" *ngIf="error">
        <div class="status-icon">
          <i class="fas fa-exclamation-circle"></i>
        </div>
        <p>{{ error }}</p>
        <button type="button" class="error-close" (click)="clearError()">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>

    <!-- Instructions -->
    <div class="instructions">
      <h3>What to do next:</h3>
      <ol>
        <li>
          <i class="fas fa-inbox"></i>
          Check your email inbox (and spam folder)
        </li>
        <li>
          <i class="fas fa-mouse-pointer"></i>
          Click the verification link in the email
        </li>
        <li>
          <i class="fas fa-check"></i>
          You'll be automatically redirected once verified
        </li>
      </ol>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <!-- Resend Email Button -->
      <button
        type="button"
        class="btn btn-primary"
        (click)="resendVerificationEmail()"
        [disabled]="loading || resendCooldown > 0"
        [class.loading]="loading"
      >
        <span *ngIf="!loading && resendCooldown === 0">
          <i class="fas fa-paper-plane"></i>
          Resend Email
        </span>
        <span *ngIf="loading" class="loading-content">
          <i class="fas fa-spinner fa-spin"></i>
          Sending...
        </span>
        <span *ngIf="resendCooldown > 0" class="cooldown-content">
          <i class="fas fa-clock"></i>
          Resend in {{ resendCooldown }}s
        </span>
      </button>

      <!-- Manual Check Button -->
      <button
        type="button"
        class="btn btn-secondary"
        (click)="checkVerificationNow()"
        [disabled]="loading"
      >
        <i class="fas fa-sync" [class.fa-spin]="loading"></i>
        Check Now
      </button>
    </div>

    <!-- Alternative Actions -->
    <div class="alternative-actions">
      <p class="help-text">
        Having trouble? 
        <a href="mailto:support@d2dcar.com" class="link">Contact Support</a>
      </p>
      
      <div class="divider">
        <span>or</span>
      </div>
      
      <button
        type="button"
        class="btn btn-outline sign-out-btn"
        (click)="signOut()"
      >
        <i class="fas fa-sign-out-alt"></i>
        Sign Out & Try Different Email
      </button>
    </div>

    <!-- Auto-refresh Notice -->
    <div class="auto-refresh-notice">
      <i class="fas fa-info-circle"></i>
      <span>This page automatically checks for verification every 3 seconds</span>
    </div>
  </div>
</div>